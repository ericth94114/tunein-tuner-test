(function(t){function e(e){for(var n,s,l=e[0],i=e[1],c=e[2],d=0,f=[];d<l.length;d++)s=l[d],r[s]&&f.push(r[s][0]),r[s]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,l=1;l<a.length;l++){var i=a[l];0!==r[i]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},r={app:0},o=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var u=i;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("6810")},6810:function(t,e,a){"use strict";a.r(e);var n=a("6e39"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("MainUI",{attrs:{msg:"TuneIn"}})],1)},o=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",[a("b-row",[a("b-col",{attrs:{md:"auto"}},[a("h1",[a("a",{attrs:{href:"\\"}},[t._v(t._s(t.msg))])])]),a("b-col",{attrs:{"align-self":"center",md:"auto"}},[a("b-form-checkbox",{attrs:{id:"auto-play-checkbox",name:"auto-play-checkbox","unchecked-value":"autoplay-off",value:"autoplay"},model:{value:t.autoPlay,callback:function(e){t.autoPlay=e},expression:"autoPlay"}},[t._v("\n                Play station immediately when selected\n            ")])],1)],1),a("b-row",[a("b-col",{attrs:{md:"auto"}},[a("p",[t._v("Filter by tags")])]),a("b-col",[a("b-form-group",[a("b-form-checkbox-group",{attrs:{options:t.allTags,id:"checkbox-group-1",name:"tags-1"},model:{value:t.selectedTags,callback:function(e){t.selectedTags=e},expression:"selectedTags"}})],1)],1)],1),a("b-row",[a("b-col",{attrs:{cols:"5"}},[a("StationList",{attrs:{selectedTags:t.selectedTags},on:{changedStation:t.changedStation}})],1),a("b-col",[null===t.selected?a("StartingInstructions"):a("StationDetails",{attrs:{deets:t.selected}})],1)],1)],1)},l=[],i=(a("15f0"),a("b8fb"),a("94fb"),a("6fec")),c=a("aaec"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-table",{attrs:{bordered:!0,busy:t.isBusy,fields:t.fields,items:t.items,"select-mode":t.selectMode,"sort-desc":!1,striped:t.striped,hover:"",id:"station-table",outlined:"","primary-key":"id",selectable:"","selected-variant":"success","sort-by":"name"},on:{"update:busy":function(e){t.isBusy=e},"row-selected":t.onRowSelected},scopedSlots:t._u([{key:"[popularity]",fn:function(e){return[a("b-progress",{attrs:{max:5,precision:1,value:e.value,variant:t.getRatingColor(e.value),"show-value":""}})]}}])})],1)},d=[],f=(a("9d7d"),a("dfc9"),a("63f0"),a("e582"),a("dc0d")),p=a("8264"),b={name:"StationList",components:{"b-table":f["a"],"b-progress":p["a"]},props:["selectedTags"],data:function(){return{isBusy:!1,fields:[{key:"name",label:"Station",sortable:!0},{key:"reliability",label:"Quality",sortable:!0},{key:"popularity",label:"Popular",sortable:!0}],selectMode:"single",striped:!1}},methods:{getRatingColor:function(t){return t>=4?"success":t>=3?"warning":t>=2?"danger":t>=1?"success":"secondary"},onRowSelected:function(t){t.length>0&&(this.selected=t[0]),this.$emit("changedStation",this.selected)}},computed:{items:function(){return this.$store.state.stations.all.items}},created:function(){this.$store.dispatch("stations/getAll")},calculated:{},watch:{selectedTags:function(t){if(0!==t.length){var e=!0,a=!1,n=void 0;try{for(var r,o=this.items[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value,l=document.getElementById("station-table__row_".concat(s.id));l.classList.add("hide-row");var i=!0,c=!1,u=void 0;try{for(var d,f=t[Symbol.iterator]();!(i=(d=f.next()).done);i=!0){var p=d.value;s.tags.includes(p)&&l.classList.remove("hide-row")}}catch(P){c=!0,u=P}finally{try{i||null==f.return||f.return()}finally{if(c)throw u}}}}catch(P){a=!0,n=P}finally{try{e||null==o.return||o.return()}finally{if(a)throw n}}}else{var b=!0,m=!1,y=void 0;try{for(var g,h=this.items[Symbol.iterator]();!(b=(g=h.next()).done);b=!0){var v=g.value,w=document.getElementById("station-table__row_".concat(v.id));w.classList.remove("hide-row")}}catch(P){m=!0,y=P}finally{try{b||null==h.return||h.return()}finally{if(m)throw y}}}}}},m=b,y=(a("99b7"),a("94de")),g=Object(y["a"])(m,u,d,!1,null,null,null),h=g.exports,v=a("d2a4"),w=a("f0dc"),P=a("5db2"),O=a("3f48"),S=a("c7ae"),_=a("7ba8"),j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"station-details"},[a("h2",[t._v(t._s(t.deets.name))]),a("b-container",[a("b-row",[a("b-col",[a("img",{attrs:{src:t.deets.imgUrl,alt:"Station logo "+t.deets.name}})]),a("b-col",{attrs:{cols:"8"}},[a("p",[t._v(t._s(t.deets.description))]),a("p",[t._v(t._s(t.formatTags(t.deets.tags)))])])],1)],1),a("p",["autoplay"===t.autoPlay?a("audio",{ref:"player",attrs:{autoplay:"autoplay",controls:"controls"}},[a("source",{attrs:{"data-v-86dfa4c4":"",type:"audio/mpeg",src:t.deets.streamUrl}})]):a("audio",{ref:"player",attrs:{controls:"controls"}},[a("source",{attrs:{"data-v-86dfa4c4":"",type:"audio/mpeg",src:t.deets.streamUrl}})])])],1)},x=[],A=(a("4c84"),{name:"station-details",props:["deets"],components:{"b-container":v["a"],"b-row":w["a"],"b-col":P["a"]},mounted:function(){var t=this;this.$watch("deets",function(){t.$refs.player.load()})},data:function(){return{}},methods:{formatTags:function(t){var e="",a=!0,n=!1,r=void 0;try{for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var l=o.value;l=l.replace(" ","_"),e+="#".concat(l," ")}}catch(i){n=!0,r=i}finally{try{a||null==s.return||s.return()}finally{if(n)throw r}}return e}},computed:{autoPlay:function(){return this.$store.getters["preferences/autoPlay"]}}}),k=A,T=Object(y["a"])(k,j,x,!1,null,"60026e8c",null),$=T.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"starting-instructions"},[a("h2",[t._v("Getting Started")]),a("b-container",[a("b-row",[a("b-col",[a("p",[t._v("Click on a station at the right to begin listening")])])],1)],1)],1)},I=[],M={name:"starting-instructions",props:[],data:function(){return{}},components:{"b-container":v["a"],"b-row":w["a"],"b-col":P["a"]},mounted:function(){},methods:{},computed:{},watch:{}},C=M,D=(a("db3b"),Object(y["a"])(C,E,I,!1,null,"aa8b0ec6",null)),L=D.exports;function R(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,n)}return a}function U(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?R(a,!0).forEach(function(e){Object(i["a"])(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):R(a).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var B={name:"MainUI",components:{StartingInstructions:L,StationDetails:$,"b-container":v["a"],"b-row":w["a"],"b-col":P["a"],"b-form-checkbox":O["a"],"b-form-group":S["a"],"b-form-checkbox-group":_["a"],StationList:h},data:function(){return{selected:null,autoPlay:"autoplay",selectedTags:[]}},props:{msg:String},methods:U({changedStation:function(t){this.selected=t}},Object(c["b"])({setAutoPlay:"preferences/setAutoPlay"})),computed:U({},Object(c["c"])({getAutoPlay:"preferences/autoPlay"}),{allTags:function(){return this.$store.getters["stations/getAllTags"]},items:function(){return this.$store.state.stations.all.items}}),watch:{autoPlay:function(t){this.$store.dispatch("preferences/setAutoPlay",t),this.$emit("autoPlayChanged",this.autoPlay)}}},J=B,F=Object(y["a"])(J,s,l,!1,null,"630797fa",null),N=F.exports,q={name:"app",components:{MainUI:N},calculated:{},created:function(){this.$store.dispatch("stations/getAll")}},G=q,W=(a("f44f"),Object(y["a"])(G,r,o,!1,null,null,null)),z=W.exports,Q=(a("e7c3"),a("ffe3"),a("b54b"),a("8bbc"));a("4b2d"),a("a703");function H(t){if("undefined"===typeof t)return{value:t,valid:!1};if("string"!==typeof t&&(t=JSON.stringify(t)),!t.startsWith("{")||!t.endsWith("}"))return{value:t,valid:!1};try{t=JSON.parse(t)}catch(e){return{value:t,valid:"object"===Object(Q["a"])(t)}}return{value:t,valid:!0}}function K(t){return t.text().then(function(e){if(!t.ok){var a={code:t.status,message:t.statusText};return Promise.reject(a)}var n=H(e);if(!n.valid){var r={code:500,message:"Invalid JSON:"+e};return Promise.reject(r)}return n.value.data})}var V="https://s3-us-west-1.amazonaws.com/cdn-web.tunein.com/stations.json",X={getAll:Y};function Y(){return fetch(V,{method:"GET",headers:{Accept:"application/json","Content-Type":"text/plain"}}).then(K).catch(function(t){return 404!==t.code?Promise.reject(new Error("Could not reach the API: "+V)):Promise.reject(new Error(t.message))})}var Z={namespaced:!0,state:{all:{}},actions:{getAll:function(t){var e=t.commit;e("getAllRequest"),X.getAll().then(function(t){e("getAllSuccess",t)},function(t){e("getAllFailure",t)})}},getters:{getAllTags:function(t){var e=[];if(Array.isArray(t.all.items))for(var a=0;a<t.all.items.length;a++)for(var n=0;n<t.all.items[a].tags.length;n++)e.includes(t.all.items[a].tags[n])||e.push(t.all.items[a].tags[n]);return e.sort(),e}},mutations:{getAllRequest:function(t){t.all={loading:!0}},getAllSuccess:function(t,e){t.all={items:e}},getAllFailure:function(t,e){t.all={error:e}}}},tt={namespaced:!0,state:{autoPlay:"autoplay",lastStation:null,tags:[]},actions:{setAutoPlay:function(t,e){t.commit("setAutoPlay",e)}},getters:{autoPlay:function(t){return t.autoPlay}},mutations:{setAutoPlay:function(t,e){t.autoPlay=e}}};n["a"].use(c["a"]);var et=new c["a"].Store({modules:{stations:Z,preferences:tt}});n["a"].config.productionTip=!1,new n["a"]({store:et,render:function(t){return t(z)}}).$mount("#app")},6879:function(t,e,a){},"99b7":function(t,e,a){"use strict";var n=a("daf9"),r=a.n(n);r.a},d975:function(t,e,a){},daf9:function(t,e,a){},db3b:function(t,e,a){"use strict";var n=a("d975"),r=a.n(n);r.a},f44f:function(t,e,a){"use strict";var n=a("6879"),r=a.n(n);r.a}});
//# sourceMappingURL=app.10330f57.js.map